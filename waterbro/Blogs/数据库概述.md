# 1.数据库概述

## 1.1数据管理技术的发展

①了解数据库的发展历程

②了解数据库的基本概念

③能够区分信息与数据的关系

④了解数据库技术发展的三个阶段

数据与信息

1.联系

数据和信息之间是相互联系的。数据是反映客观事物属性的记录，是信息的具体表现形式。数据经过加工处理之后，就成为信息；而信息需要经过数字化转变成数据才能存储和传输。

2.区别

那么，数据是否就是指可以存储和传输的信息呢？未必！数据和信息是有区别的。从信息论的观点来看，描述信源的数据是信息和数据冗余之和，即：数据=信息+数据冗余。![数据与信息.jpg](http://p.ananas.chaoxing.com/star3/origin/5501292fe4b06685dee3ab04.jpg)

数据是数据采集时提供的，信息是从采集的数据中获取的有用信息。

由此可见，信息可以简单地理解为数据中包含的有用的内容。

数据管理技术的发展

**数据管理技术**是对数据进行分类，[组织](http://baike.baidu.com/view/46944.htm)，[编码](http://baike.baidu.com/view/237708.htm)，[输入](http://baike.baidu.com/subview/700406/8031404.htm)，存储，检索，维护和输出的技术。数据管理技术的发展大致经过了以下三个阶段：人工管理阶段；文件系统阶段；[数据库系统](http://baike.baidu.com/view/7809.htm)阶段.

**人工****[管理](http://baike.baidu.com/view/18841.htm)****阶段**

20世纪50年代以前，[计算机](http://baike.baidu.com/view/3314.htm)主要用于数值计算.从当时的[硬件](http://baike.baidu.com/view/25278.htm)看，外存只有纸带，卡片，磁带，没有直接存取设备；从[软件](http://baike.baidu.com/view/37.htm)看（实际上，当时还未形成软件的整体概念），没有[操作系统](http://baike.baidu.com/view/880.htm)以及[管理](http://baike.baidu.com/view/18841.htm)数据的软件；从数据看，数据量小，数据无结构，由用户直接管理，且数据间缺乏逻辑[组织](http://baike.baidu.com/view/46944.htm)，[数据依赖](http://baike.baidu.com/view/176659.htm)于特定的应用[程序](http://baike.baidu.com/view/17674.htm)，缺乏独立性。

**文件系统阶段**

50年代后期到60年代中期，出现了磁鼓，[磁盘](http://baike.baidu.com/view/157418.htm)等数据存储设备.新的[数据处理系统](http://baike.baidu.com/view/451490.htm)迅速发展起来.这种数据处理系统是把[计算机](http://baike.baidu.com/view/3314.htm)中的[数据组织](http://baike.baidu.com/view/286835.htm)成相互独立的数据文件，系统可以按照文件的名称对其进行访问，对文件中的记录进行存取，并可以实现对文件的修改，插入和删除，这就是文件系统.文件系统实现了记录内的结构化,即给出了记录内各种数据间的关系.但是，文件从整体来看却是无结构的.其数据面向特定的应用[程序](http://baike.baidu.com/view/17674.htm)，因此数据共享性，独立性差，且冗余度大，[管理](http://baike.baidu.com/view/18841.htm)和维护的代价也很大。

**[数据库系统](http://baike.baidu.com/view/7809.htm)****阶段**

60年代后期，出现了数据库这样的数据管理技术.数据库的特点是数据不再只针对某一特定应用，而是面向全[组织](http://baike.baidu.com/view/46944.htm)，具有整体的结构性，共享性高，冗余度小，具有一定的[程序](http://baike.baidu.com/view/17674.htm)与数据间的独立性，并且实现了对数据进行统一的控制。

## 1.2 数据库系统结构

重点：

①掌握数据库系统的三级模式结构和二级映像功能

②了解数据库系统的体系结构



数据库三级模式结构
数据库领域公认的标准结构是三级模式结构，它包括外模式、概念模式、内模式，有效地组织、管理数据，提高了数据库的逻辑独立性和物理独立性。用户级对应外模式，概念级对应概念模式，物理级对应内模式，使不同级别的用户对数据库形成不同的视图。所谓视图，就是指观察、认识和理解数据的范围、角度和方法，是数据库在用户“眼中"的反映，很显然，不同层次（级别）用户所“看到”的数据库是不相同的。

三级模式结构.jpg外模式
外模式又称子模式或用户模式，对应于用户级。它是某个或某几个用户所看到的数据库的数据视图，是与某一应用有关的数据的逻辑表示。外模式是从模式导出的一个子集，包含模式中允许特定用户使用的那部分数据。用户可以通过外模式描述语言来描述、定义对应于用户的数据记录(外模式)，也可以利用数据操纵语言(Data Manipulation Language，DML)对这些数据记录进行。外模式反映了数据库的用户观。![img](https://gitee.com/szuwaterbrother/typora-pic-bed/raw/master/5503039f53706e35b9f30b9e.jpg)

概念模式
模式又称概念模式或逻辑模式，对应于概念级。它是由数据库设计者综合所有用户的数据，按照统一的观点构造的全局逻辑结构，是对数据库中全部数据的逻辑结构和特征的总体描述，是所有用户的公共数据视图(全局视图)。它是由数据库管理系统提供的数据模式描述语言(Data Description Language，DDL)来描述、定义的，体现、反映了数据库系统的整体观。

内模式
内模式又称存储模式，对应于物理级，它是数据库中全体数据的内部表示或底层描述，是数据库最低一级的逻辑描述，它描述了数据在存储介质上的存储方式和物理结构，对应着实际存储在外存储介质上的数据库。内模式由内模式描述语言来描述、定义，它是数据库的存储观。

数据库系统结构的二级映像功能
其功能是为了保证数据库的数据具有较高的逻辑独立性和物理独立性。
模式/内模式映像能保证数据的物理独立性。当内模式发生改变时，如存储设备，存储方式发生改变，可以修改相应的模式/内模式映像，使模式保持不变，则应用程序就不受影响，从而保证数据与应用程序之间的物理独立性。
  外模式/模式映像能保证数据的逻辑独立性。当模式发生改变时，如增加属性，修改属性类型等，可以通过修改相应的外模式/模式映像，使外模式保持不变，这样依赖于外模式设计的应用程序就不会受影响，从而保证数据与应用程序之间的逻辑独立性。
其功能是为了保证数据库的数据具有较高的逻辑独立性和物理独立性。其功能是为了保证数据库的数据具有较高的逻辑独立性和物理独立性。

## 1.3数据库，数据库管理系统和数据库系统

重点：
       ①掌握数据库、数据库管理系统与数据库系统的联系与区别
       ②掌握数据库常用的术语和基本概念 

数据库系统(DBS)
数据库系统（Data Base System），是由数据库及其管理软件组成的系统。数据库系统是为适应数据处理的需要而发展起来的一种较为理想的数据处理系统，也是一个为实际可运行的存储、维护和应用系统提供数据的软件系统，是存储介质 、处理对象和管理系统的集合体，包括：数据库、硬件、软件、人员。

特点：
1.数据结构化

数据库系统实现了整体数据的结构化，这是数据库的最主要的特征之一。这里所说的“整体”结构化，是指在数据库中的数据不再仅针对某个应用，而是面向全组织；不仅数据内部是结构化，而且整体式结构化，数据之间有联系。

2.数据的共享性高，冗余度低，易扩充

因为数据是面向整体的，所以数据可以被多个用户、多个应用程序共享使用，可以大大减少数据冗余，节约存储空间，避免数据之间的不相容性与不一致性。

3.数据独立性高

数据独立性包括数据的物理独立性和逻辑独立性。数据与程序的独立，把数据的定义从程序中分离出去，加上存取数据的由DBMS负责提供，从而简化了应用程序的编制，大大减少了应用程序的维护和修改。

4.数据由DBMS统一管理和控制

数据库的共享是并发的共享，即多个用户可以同时存取数据库中的数据，甚至可以同时存取数据库中的同一个数据。

数据库管理系统(DBMS)
数据库管理系统(Database Management System)是一种操纵和管理数据库的大型软件，用于建立、使用和维护数据库，简称DBMS。它对数据库进行统一的管理和控制，以保证数据库的安全性和完整性。用户通过DBMS访问数据库中的数据，数据库管理员也通过dbms进行数据库的维护工作。它可使多个应用程序和用户用不同的方法在同时或不同时刻去建立，修改和询问数据库。大部分DBMS提供数据定义语言DDL（Data Definition Language）和数据操作语言DML（Data Manipulation Language），供用户定义数据库的模式结构与权限约束，实现对数据的追加、删除等操作。

主要功能：
1.数据定义：DBMS提供数据定义语言DDL（Data Definition Language），供用户定义数据库的三级模式结构、两级映像以及完整性约束和保密限制等约束。DDL主要用于建立、修改数据库的库结构。DDL所描述的库结构仅仅给出了数据库的框架，数据库的框架信息被存放在数据字典（Data Dictionary）中。

2.数据操纵：DBMS提供数据操纵语言DML（Data Manipulation Language），供用户实现对数据的追加、删除、更新、查询等操作。

3.数据库的运行管理：数据库的运行管理功能是DBMS的运行控制、管理功能，包括多用户环境下的并发控制、安全性检查和存取限制控制、完整性检查和执行、运行日志的组织管理、事务的管理和自动恢复，即保证事务的原子性。这些功能保证了数据库系统的正常运行。

4.数据组织、存储与管理：DBMS要分类组织、存储和管理各种数据，包括数据字典、用户数据、存取路径等，需确定以何种文件结构和存取方式在存储级上组织这些数据，如何实现数据之间的联系。数据组织和存储的基本目标是提高存储空间利用率，选择合适的存取方法提高存取效率。

5.数据库的保护：数据库中的数据是信息社会的战略资源，所以数据的保护至关重要。DBMS对数据库的保护通过4个方面来实现：数据库的恢复、数据库的并发控制、数据库的完整性控制、数据库安全性控制。DBMS的其他保护功能还有系统缓冲区的管理以及数据存储的某些自适应调节机制等。

6.数据库的维护：这一部分包括数据库的数据载入、转换、转储、数据库的重组合重构以及性能监控等功能，这些功能分别由各个使用程序来完成。

数据库管理员(DBA)
数据库管理员（DBA），是一个负责管理和维护数据库服务器的人。数据库管理员负责全面管理和控制数据库系统。
职责:
数据库管理员必须与科学技术和数据库系统的新发展齐头并进，以不断改进数据库运行。通过使当地运用信息技术于数据库管理系统，数据库管理员能够显著地最大化生产力，降低风险和成本。数据库管理员的主要职责有以下几个方面。
1.设计
数据库设计，包括字段、表和关键字段；
资源在辅助存储设备上是怎样使用的，怎样增加和删除文件及记录，以及怎样发现和补救损失。
2.监视
监控数据库的警告日志，定期做备份删除。
监控数据库的日常会话情况。
碎片、剩余表空间监控，及时了解表空间的扩展情况、以及剩余空间分布情况。
监视对象的修改。定期列出所有变化的对象
安装和升级数据库服务器（如Oracle、Microsoft SQL server），以及应用程序工具。
数据库设计系统存储方案，并制定未来的存储需求计划。
制定数据库备份计划，灾难出现时对数据库信息进行恢复。
维护适当介质上的存档或者备份数据。
备份和恢复数据库。
联系数据库系统的生产厂商，跟踪技术信息。
3.备份
对数据库的备份监控和管理数据库的备份至关重要，对数据库的备份策略要根据实际要求进行更改，数据的日常备份情况进行监控。
4.修改密码
规范数据库用户的管理定期对管理员等重要用户密码进行修改。对于每一个项目，应该建立一个用户。DBA应该和相应的项目管理人员或者是程序员沟通，确定怎样建立相应的数据库底层模型，最后由DBA统一管理，建立和维护。任何数据库对象的更改，应该由DBA根据需求来操作。
5.SQL语句
对SQL语句的书写规范的要求一个SQL语句，如果写得不理想，对数据库的影响是很大的。所以，每一个程序员或相应的工作人员在写相应的SQL语句时，应该严格按照《SQL书写规范》一文,最后要有DBA检查才可以正式运行。
6.最终用户服务和协调
数据库管理员规定用户访问权限和为不同用户组分配资源。如果不同用户之间互相抵触，数据库管理员应该能够协调用户以最优化安排。 
7..数据库安全
数据库管理员能够为不同的数据库管理系统用户规定不同的访问权限，以保护数据库不被未经授权的访问和破坏。例如，允许一类用户只能检索数据，而另一类用户可能拥有更新数据和删除记录的权限。

## 1.4 数据库技术的发展

数据库技术的发展

**1.数据库的发展历程：**

第一阶段（60年代末到70年代初）

​     数据库是基于层次和网状的关系数据库，简单，相对容易实现。

第二阶段（70年代初到80年代初）

​         数据库理论发展成熟，应用普遍，形成独立科学。

第三阶段（80年代初到90年代初）

​         以网络技术为基础的数据库系统。

第四阶段（90年代初）

​         数据库技术与网络通信技术、人工智能技术、多媒体技术等相互渗透、相互结合，产生了一系列新型数据库系统。

**2.数据库研究的现状和未来的发展趋势**

目前数据库技术已经成为计算机信息系统和计算机应用系统的重要技术基础和支柱，其应用领域随着科学技术的进步和数据技术的发展不断扩大，已从传统的商务数据处理扩展到许许多多新的应用领域，从小型单项事务处理系统到大型信息系统，从一般企业管理到CAD/CAM、CIM、CASE、OIS、GIS、知识库系统和实时系统等等。数据库技术的发展更是日新月异，数据库技术与网络通信技术、人工智能技术、面向对象程序设计技术、并行计算机技术、多媒体技术互相结合、互相渗透，成为当前数据库发展的主要特征。

今后，数据库技术将向着实时性更强、可扩展性更强、更加智能化的方向发展。面向对象数据库(ObjectOriented Data Base)、分布式数据库 (Distributed Data Base)、Web 数据库、数据仓库(Data Warehouse) 、数据挖掘 (Data Mining) 、多媒体数据库与数据可视化、主动数据库、工程数据库、统计数据库、空间数据库等都是数据库的发展方向。这些新数据库技术将在后续章节中详细介绍。

## 1.5 sql server简介

 重点：
    ①了解SQL Server的发展历程

  SQL Server 2005简介

  数据库技术与网络通信技术、人工智能技术、多媒体技术等相互渗透、相互结合，产生了一系列新型数据库系统。

  Microsoft SQL Server系统是一个典型的关系型数据库管理系统，起步于20世纪80年代后期，是微软品牌中的一个重要产品。它是一个全面的、集成的、端到端的数据解决方案，它为企业中的用户提供了一个安全、可靠和高效的平台用于企业数据管理和商业智能应用。 

# 2.信息三个世界

重点：

①掌握数据模型的组成

②掌握三种数据模型的关系

③掌握常用的术语和基本概念

信息的三个世界

## 1.现实世界

现实世界是存在于人脑之外的客观世界，事物及其相互联系就存在于这个世界中。事物可用"对象"和"性质"来描述，事物又有"共同事物"和"特殊事物"的区分。要求解现实问题，就要从找出反映实际问题的对象入手，研究它们的性质及其内在规律，从而找到求解方法。反映事物间联系的是内在规律。

## 2.信息世界

信息世界就是现实世界在人们头脑中的反映，又称观念世界。客观事物在信息世界中称为实体，反映事物间联系的是实体模型或概念模型。现实世界是物质的，相对而言信息世界是抽象的。

 

在信息世界中，常用的主要概念如下：

\1. 实体（Entity）

\2. 属性(Attributes)

\3. 实体型（Entity Type）

\4. 实体集(Entity Set)

\5. 键（Key）

\6. 域（Domain）

\7. 联系（Relationship）

 

3.数据世界

数据世界是数据在观念世界中信息的数据化，现实世界中的事物及联系在数据世界中用数据模型来描述。

数据模型的建立可以通过不同的层次来实现。

 

在数据世界中，常用的主要概念如下：

\1. 字段（Field）

对应于属性的数据称为字段，也称为数据项。字段的命名往往和属性名相同。

如学生有学号、姓名、年龄、性别、系等字段。

\2. 记录（Record）

对应于每个实体的数据称为记录。

如一个学生（990001，张立，20，男，计算机）为一个记录。

\3. 文件（File）

对应于实体集的数据称为文件。

如所有学生的记录组成了一个学生文件。 

三个世界之间的关系

数据世界是数据在观念世界中信息的数据化，现实世界中的事物及联系在数据世界中用数据模型来描述。

数据模型的建立可以通过不同的层次来实现。

三个世界的各术语的对应关系

现 实 世 界——>信息世界——>数据世界

事 物 总 体——>实体集——>文件

事 物 个 体——>实体——>记录

特征——>属性——>字段  

事物间联系——> 实体模型——>逻辑数据模型

## 3.逻辑模型

重点：

①掌握逻辑模型的相关术语及概念

②掌握逻辑模型的优缺点

③掌握逻辑模型的三要素，即数据结构、数据操作和完整性约束



逻辑模型

目前最常用的逻辑模型有：

层次模型（Hierarchical Model）

网状模型（Network Model）

关系模型（Relational Model）

 

逻辑模型的三要素

1.数据结构

2.数据操作

3.完整性约束

 

层次模型

层次模型是数据库系统中最早出现的数据模型，采用层次模型的数据库的典型代表是IBM公司的IMS（InformationManagement System）数据库管理系统

层次模型用一棵“有向树”的数据结构来表示各类实体以及实体间的联系。

 

层次模型的特征：

且仅有一个结点没有双亲，该结点就是根结点；

根以外的其他结点有且仅有一个双亲结点，这就使得层次数据库系统只能直接处理一对多的实体关系；

任何一个给定的记录值只有按其路径查看时，才能显出它的全部意义，没有一个子女记录值能够脱离双亲记录值而独立存在。

 

层次模型的数据操纵与数据完整性约束

层次模型的数据操纵主要有查询、插入、删除和修改

进行插入、删除和修改操作时要满足层次模型的完整性约束条件。进行插入操作时，如果没有相应的双亲结点值就不能插入子女结点值；进行删除操作时，如果删除双亲结点值，则相应的子女结点值也被同时删除；修改操作时，应修改所有相应的记录，以保证数据的一致性。

 

层次模型的优缺点

优点：

比较简单 ，容易使用。

结构清晰，结点间联系简单 。

它提供了良好的数据完整性支持。

缺点：

不能直接表示两个以上的实体型间的复杂的联系和实体型间的多对多联系，只能通过引入冗余数据或创建虚拟结点的方法来解决，易产生不一致性。

对数据的插入和删除的操作限制太多。

查询子女结点必须通过双亲结点。

 

网状模型

网状模型取消了层次模型的不能表示非树型结构的限制，两个或两个以上的结点都可以有多个双亲结点，则此时有向树变成了有向图，该有向图描述了网状模型。

 

网状模型的特征

1.有一个以上的结点没有双亲

2.至少有一个结点可以有多于一个双亲。

 

网状模型的优缺点

优点：

能更为直接地描述客观世界，可表示实体间的多种复杂联系。

具有良好的性能和存储效率。

缺点：

结构复杂，其DDL语言极其复杂。

数据独立性差，由于实体间的联系本质上是通过存取路径表示的，因此应用程序在访问数据时要指定存取路径。

 

 

![2.3.1.png](http://p.ananas.chaoxing.com/star3/origin/5507fef1e4b0b355629421a9.png)

![2.3.2.png](http://p.ananas.chaoxing.com/star3/origin/5507fef1e4b0b355629421aa.png)

# 3.关系数据库的基本理论

## 1.关系模型 概述

重点：

①了解关系模型的发展

②掌握关系模型的属于及基本概念

关系模型的基本概念

  数据模型一般包括数据结构、数据操作和数据完整性约束三个部分，数据模型中的数据结构主要描述数据类型、性质以及数据间的联系，数据结构是数据模型的基础；数据模型中的数据操作主要描述在相应数据结构上的操作类型与操作方式；数据模型中的数据完整性约束主要描述数据结构内数据间的语法、语义联系，它们间的制约和依存关系，以及数据动态变化的规则以保证数据的正确、有效与相容。

关系数据库系统是支持关系模型的数据库系统。它由以下三个基本部分组成:关系数据结构、关系操作和关系中的完整性约束规则。

数据模型主要描述两类信息：一是实体；二是实体之间的联系。在层次、网状模型中，实体之间的联系是通过指针来实现的，而在关系模型中，实体之间的联系是通过二维表中公共属性值建立起来的联系来实现的。所以，在建立关系模型时，只要把的所有的实体及其属性用关系框架来表示，同时把实体之间的关系也用关系框架来表示，就可以得到一个关系模型。

![3.1.png](http://p.ananas.chaoxing.com/star3/origin/55099809537016c9ba1e4e1b.png)



从以上关系的框架中，可以很容易看出哪两个关系之间有联系。

例如：

1．教师关系和授课关系有公共的属性“教师号”，则表明这两个关系有联系。

2．而课程关系和授课关系有公共的属性“课程号”，则表明这两个关系也有联系。

3．至于元组之间的联系，则与具体的数据有关。只有在公共属性上具有相同属性值的元组之间才有联系。

由上例可以看出，在一个关系中可以存放两类信息：

 1．描述实体本身的信息  2．描述实体（关系）之间的联系的信息  关系数据库系统是支持关系数据模型的数据库系统，即以关系模型为基础而构建起来的数据库系统

重点：

①熟练掌握笛卡尔积的运算

②掌握关系数据模型的基本概念

③掌握关系数据模型的数据结构及数据操作

关系数据结构

  在关系模型中，数据的逻辑结构为满足一定条件的二维表，表具有固定的列数和任意的行数，在数学上称为“关系”。关系模型的数据结构可以描述现实世界的实体以及实体间的各种联系。在关系模型中，可以把现实世界中的实体以及实体间的各种联系均用单一的关系来表示。由于关系的概念来源于数学，关系模型是在集合代数的基础上建立起来的，所以有必要从数学的角度对关系的数据结构及其基本概念做一论述。

   

域（Domain）

  定义3.1 域是一组具有相同数据类型的值的集合。

  例如，自然数、整数、实数、{0,5}、大于0且小于50的自然数、长度小于20个字节的字符串集合等，都可以是域。

笛卡尔积（Cartesian Product）

![3.2.png](http://p.ananas.chaoxing.com/star3/origin/550999b7537016c9ba1e4e62.png)

![3.2.2.png](http://p.ananas.chaoxing.com/star3/origin/550999d6537016c9ba1e4e64.png)

 

![3.2.3.png](http://p.ananas.chaoxing.com/star3/origin/55099a11537016c9ba1e4e68.png)

![3.2.4.png](http://p.ananas.chaoxing.com/star3/origin/55099a12537016c9ba1e4e69.png)

![3.2.5.png](http://p.ananas.chaoxing.com/star3/origin/55099a12537016c9ba1e4e6a.png)

重点:

①熟练掌握关系模型的三类完整性

 

 

## 2.关系模型的三类完整性

为了维护数据库中数据与现实世界的一致性，对关系数据库的插入、删除和修改操作必须有一定的约束条件。数据的完整性约束是指在给定的数据模型中，数据及其联系所遵守的一组通用的完整性规则，以确保数据库中数据的一致性和正确性。 

关系的三类完整性约束

关系模型中有三类完整性约束：实体完整性、参照完整性和用户定义的完整性。其中实体完整性和参照完整性是关系模型必须满足的完整性约束条件被称作是关系的两个不变性，应该由关系系统自动支持。用户定义的完整性是应用领域需要遵循的约束条件，体现了具体领域中的语义约束。

 

实体完整性（Entity Integrity） 

规则3.1 实体完整性规则 若属性（指一个或一组属性）是基本关系的主属性（或主键中的属性），则不能取空值。所谓空值就是“不知道”或“不存在”的值。

这个规则很容易理解，因为主属性能唯一标识关系中的元组，若取空值，便失去唯一元组功能。例如关系模式中的学生（学号，姓名，性别，年龄，籍贯，专业名称），其中学号是主键，而主键对应的属性只有学号，所以学号也是主属性。根据实体完整性约束规则，学号不能取空值。在学生选课关系模式中，选修（学号，课程编码，成绩）中，属性组“学号”和“课程编码”为主键，同时也是主属性，所以这两个属性均不能取空值。

对于实体完整性规则说明如下：

（1）实体完整性规则是针对基本关系而言的。一个基本表通常对应现实世界的一个实体集。例如学生关系对应于学生的集合。

（2）现实世界中的实体是可区分的，即它们具有某种唯一性标识。例如每一个学生都是独立的个体，是不一样的。

（3）相应地，关系模型中以主键作为唯一性标识。

（4）主键中的属性即主属性不能取空值。如果主属性取空值，就说明存在某个不可标识的实体，即存在不可区分的实体，这与第（2）点相矛盾，因此这个规则称为实体完整性。

注意：实体完整性规则规定基本关系的所有主键的各属性都不能取空值，而不仅是主键整体不能取空值。

 

参照完整性 （Referential Integrity）

现实世界中的实体之间往往存在某种联系，在关系模型中实体及实体间的联系都是用关系来描述的。这样就自然存在着关系与关系之间的引用。

【例3-1】学生实体和专业实体可以用下面的关系来表示，其中主键用下划线标识：

学生（学号，姓名，性别，专业号，年龄）

专业（专业号，专业名）

 这两个关系之间存在着属性的引用，即学生关系引用了专业关系的主键“专业号”。显然，学生关系中的“专业号”值必须是确实存在的专业的号，即专业关系中有该专业的纪录。也就是说学生关系中的某个属性的取值需要参照专业关系的属性取值。

 定义  3.6 设F是基本关系R的一个或一组属性，但不是关系R的键，  是基本关系S的主键。如果 F与基本关系S的主键    相对应，则称F是基本关系R的外键（Foreign key），并称基本关系R为参照关系（Referencing  relation），基本关系S为被参照关系（Referenced relation）或目标关系（Target  relation）。关系R和S不一定是不同的关系。

用户定义完整性

  任何关系数据库系统都应该支持实体完整性和参照完整性。这是关系模型所要求的。

  用户定义的完整性就是针对某一具体关系数据库的唯一约束条件。它反映某一具体应用所涉及的数据必须满足的语义要求。关系模型应提供定义和检验这一类完整性的机制，以便用统一的系统的方法处理它们，而不是由应用程序来承担这一功能。在早期的RDBMS中没有提供定义和检验这些完整性的机制，因此需要应用开发人员在应用系统的程序中进行检查。

## 3.关系代数的基本运算